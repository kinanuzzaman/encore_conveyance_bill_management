import{$api as s}from"./axios.33769ef8.js";import{aJ as i}from"./index.5b2acc78.js";import{u as f}from"./auth.store.b2378202.js";const{token:u}=f();function l(){return function(t){const e=Object.getOwnPropertyDescriptors(t.prototype);Object.keys(e).forEach(r=>{const n=e[r].value;r!=="constructor"&&typeof n=="function"&&Object.defineProperty(t.prototype,r,{value:function(...o){//! have to remove
return u&&(i(u).exp*1e3<Date.now()?(localStorage.removeItem("token"),localStorage.removeItem("user"),location.href="/login"):s.interceptors.request.use(c=>(c.headers.Authorization=`Bearer ${u}`,c))),n.apply(this,o)}})})}}var y=Object.defineProperty,h=Object.getOwnPropertyDescriptor,v=(t,e,r,n)=>{for(var o=n>1?void 0:n?h(e,r):e,p=t.length-1,c;p>=0;p--)(c=t[p])&&(o=(n?c(e,r,o):c(o))||o);return n&&o&&y(e,r,o),o};let a=class{constructor(){}async post(t,e,r){return s.post(t,e,r)}async patch(t,e,r){return s.patch(t,e,r)}async get(t,e){return s.get(t,e)}async put(t,e,r){return s.put(t,e,r)}async delete(t,e){return s.delete(t,e)}};a=v([l()],a);export{a as A};
