import{_ as h,aI as y,a3 as b,r as g,at as U,$ as x,a4 as I,o as V,a as S,f as s,a6 as w,ay as B,e as i,ae as _,aw as D,a8 as u,Q as A}from"./index.5b2acc78.js";import{A as C}from"./api-service.e4a3f494.js";import{u as Q}from"./use-quasar.b612f3c1.js";import{A as j}from"./AvatarUploader.b3fd4829.js";import{_ as k}from"./encore2.c84cb903.js";import"./axios.33769ef8.js";import"./auth.store.b2378202.js";const P={components:{AvatarUploader:j},setup(){const l=new C,a=y(),d=b(),o=new FormData,c=Q(),f=g(null),t=U({dob:null,password:null}),n=g([]);x(()=>{a.params.id||d.back(),l.get(`/users/validate-invitation/${a.params.id.toString()}`).then(e=>{n.value=e.data.data,console.log("\u{1F680} ~ file: OnBoard.vue:62 ~ apiSerivce.get ~ invitedUsersData.value:",n.value)}).catch(e=>{c.notify({message:e.response?e.response.data.message:"Something went wrong",color:"red",position:"top"}),d.back()})});function p(){t.password!==f.value&&c.notify({message:"Password does not match",color:"red",position:"top"}),Object.keys(t).forEach(e=>{o.append(e,t[e])}),l.post(`/users/accept-invitation/${a.params.id}`,o).then(()=>{d.push("/")}).catch(e=>{c.notify({message:e.response?e.response.data.message:"Something went wrong",color:"red",position:"top"})})}function m(e){o.append("avatar",e)}return{userInfo:t,invitedUsersData:n,onBoardUser:p,onImageUpload:m}}},E={class:"flex justify-center items-center h-screen bg-green"},N={class:"flex flex-col justify-center items-center gap-3"},O=i("p",{class:"text-2xl"},"Welcome",-1),R={class:"text-sm text-gray-500"},q={class:"flex justify-center"},F=i("div",{class:"absolute bottom-0 right-0 w-[60%]"},[i("img",{src:k,class:""})],-1);function L(l,a,d,o,c,f){const t=I("AvatarUploader");return V(),S("div",E,[s(B,{class:"my-card p-10",style:{width:"500px","max-width":"80vw"}},{default:w(()=>{var n,p,m,e,v;return[i("div",N,[O,i("p",R,_(((p=(n=o.invitedUsersData)==null?void 0:n.invited_by)==null?void 0:p.first_name)+""+((e=(m=o.invitedUsersData)==null?void 0:m.invited_by)==null?void 0:e.last_name))+" invited you as "+_((v=o.invitedUsersData)==null?void 0:v.designation)+" in join Encore Ltd. ",1)]),i("div",q,[s(t,{onImageSelected:o.onImageUpload},null,8,["onImageSelected"])]),s(D,{class:"flex flex-col gap-2"},{default:w(()=>[s(u,{modelValue:o.userInfo.dob,"onUpdate:modelValue":a[0]||(a[0]=r=>o.userInfo.dob=r),type:"date",label:"Date of Birth",outlined:"",dense:""},null,8,["modelValue"]),s(u,{outlined:"",modelValue:o.userInfo.password,"onUpdate:modelValue":a[1]||(a[1]=r=>o.userInfo.password=r),type:"password",placeholder:"New password","bg-color":"white",dense:!0},null,8,["modelValue"]),s(u,{outlined:"",modelValue:l.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=r=>l.confirmPassword=r),type:"password",placeholder:"Confirm password","bg-color":"white",dense:!0},null,8,["modelValue"]),s(A,{label:"continue",color:"green",class:"col mt-3",onClick:a[3]||(a[3]=r=>o.onBoardUser())})]),_:1})]}),_:1}),F])}var T=h(P,[["render",L]]);export{T as default};
